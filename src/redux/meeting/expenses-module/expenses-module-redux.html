<script>
    Nylon.addReducer('expenses_module', function (state, action) {
        state = state || {}

        switch (action.type) {
            case 'EXPENSES_MODULE_GET_MEETING':
                state.meeting = action.payload
                return state
                break;
            case 'EXPENSES_MODULE_GET_REGION':
                state.region = action.payload
                return state
                break;
            case 'EXPENSES_MODULE_GET_DATA':
                state.data = action.payload
                return state
                break;
            case 'EXPENSES_MODULE_SELECT_DATA':
                state.select = action.payload
                return state
                break;
            case 'EXPENSES_MODULE_GET_INVITE':
                state.invite = action.payload
                break;
            case 'EXPENSES_MODULE_GET_PARTICIPANT':
                state.participant = action.payload
                return state
                break;
            case 'EXPENSES_MODULE_GET_PEOPLE':
                state.people = action.payload
                return state
                break;
            default:
                return state
                break;
        }
        return state
    })


    Nylon.addAction({
        view2Con: function (arg1) {
            return { type: arg1 }
        },
        expensesModuleGetMeeting: function (id) {
            return dispatch => {
                axios.get(`/meeting/module/getMeeting/${id}`).then(
                    res => {
                        dispatch({ type: 'EXPENSES_MODULE_GET_MEETING', payload: res.data })
                    }
                )
            }
        },
        expensesModuleGetData: function (id) {

            var progress = Nylon.$['page-expenses-module'].$.list_module.$.pc1.progress({ position: 'top' })
            return dispatch => {
                axios.get(`/meeting/module/getData/${id}`).then(
                    res => {
                        progress(() => {
                            dispatch({ type: 'EXPENSES_MODULE_GET_DATA', payload: res.data })
                        })
                    }
                )
            }
        }
    })

</script>